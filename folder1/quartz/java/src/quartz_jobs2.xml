<?xml version="1.0"?>
<Package xmlns="http://www.wfmc.org/2002/XPDL1.0">
<quartz xmlns="http://www.quartzscheduler.org/ns/quartz"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:schemaLocation="http://www.quartzscheduler.org/ns/quartz
                      http://www.quartzscheduler.org/ns/quartz/job_scheduling_data_1_1.xsd"

          version="1.1">
    <calendar class-name="com.eggtheory.brainfuse.server.servercomponent.EveryTwoWeeksCalendar" replace="true" >
        <name>everyTwoWeeksCalendar</name>
        <description>everyTwoWeeks</description>
        <startDate>10/05/2004</startDate>

    </calendar>


    <job>
        <!-- submit/update tutor time sheet every morning at 4:00 AM -->
        <job-detail>
            <name>jobTimeSheet</name>
            <group>groupTimeSheet</group>
            <job-class>com.eggtheory.brainfuse.server.servercomponent.TimeSheetJob</job-class>
            <volatility>false</volatility>
            <durability>false</durability>
            <recover>true</recover>
        </job-detail>

        <trigger>
            <cron>
                <name>triggTimeSheet</name>
                <group>triggGroupTimeSheet</group>
                <job-name>jobTimeSheet</job-name>
                <job-group>groupTimeSheet</job-group>
                <cron-expression>0 0 4 ? * *</cron-expression>
                <time-zone>America/New_York</time-zone>
            </cron>
        </trigger>

    </job>
    <job>
        <!-- submit/update tutor time sheet every morning at 4:00 AM -->
        <job-detail>
            <name>jobBillingCalculator</name>
            <group>groupBillManager</group>
            <job-class>com.eggtheory.brainfuse.bizobjects.billing.BillManager</job-class>
            <volatility>false</volatility>
            <durability>false</durability>
            <recover>true</recover>
        </job-detail>

        <trigger>
            <cron>
                <name>trigBillManager</name>
                <group>triggGroupBillManager</group>
                <job-name>jobBillingCalculator</job-name>
                <job-group>groupBillManager</job-group>
                <cron-expression>0 0 4 ? * *</cron-expression>
                <time-zone>America/New_York</time-zone>
            </cron>
        </trigger>

    </job>
    <job>
        <!-- submit/update previous tutor time sheet -->
        <job-detail>
            <name>jobPreviousTimesheet</name>
            <group>groupTimeSheet</group>
            <job-class>com.eggtheory.brainfuse.server.servercomponent.TimeSheetJob</job-class>
            <volatility>false</volatility>
            <durability>false</durability>
            <recover>true</recover>
            <job-data-map>
                <entry>
                  <key>previous</key>
                  <value>true</value>
                </entry>
            </job-data-map>
        </job-detail>

        <trigger>
            <cron>
                <name>triggPrevTimeSheet</name>
                <group>triggGroupTimeSheet</group>
                <job-name>jobPreviousTimesheet</job-name>
                <calendar-name>everyTwoWeeksCalendar</calendar-name>
                <job-group>groupTimeSheet</job-group>
                <cron-expression>0 0 1 ? * MON</cron-expression>
                <time-zone>America/New_York</time-zone>
            </cron>
        </trigger>

    </job>

    <job>
        <!-- submit tutor payroll via Alliance every other Tuesday at 3:00 PM starting 24th this month -->
        <job-detail>
            <name>jobPayroll</name>
            <group>groupPayroll</group>
            <job-class>com.eggtheory.brainfuse.server.servercomponent.PayrollJob</job-class>
            <volatility>false</volatility>
            <durability>false</durability>
            <recover>true</recover>
        </job-detail>

        <trigger>
            <cron>
                <name>triggPayroll</name>
                <group>triggGroupPayroll</group>
                <job-name>jobPayroll</job-name>
                <calendar-name>everyTwoWeeksCalendar</calendar-name>
                <job-group>groupPayroll</job-group>
                <!--<start-time>2004-08-30 11:00:00 am</start-time>-->
                <!--<end-time>3000-08-24 11:00:00 am</end-time>-->
                <cron-expression>0 0 15 ? * TUES</cron-expression>
                <time-zone>America/New_York</time-zone>
            </cron>
        </trigger>

    </job>
	
    <job>
        <!-- submit tutor payroll via Alliance every other Tuesday at 3:00 PM starting 24th this month -->
        <job-detail>
            <name>jobPayrollUpdate</name>
            <group>groupPayroll</group>
            <job-class>com.eggtheory.brainfuse.server.servercomponent.PayrollJob</job-class>
            <volatility>false</volatility>
            <durability>false</durability>
            <recover>true</recover>
        </job-detail>

        <trigger>
            <cron>
                <name>triggPayrollUpdate</name>
                <group>triggGroupPayroll</group>
                <job-name>jobPayrollUpdate</job-name>
                <job-group>groupPayroll</job-group>
                <!--<start-time>2004-08-30 11:00:00 am</start-time>-->
                <!--<end-time>3000-08-24 11:00:00 am</end-time>-->
                <cron-expression>0 0 15 ? * MON,FRI</cron-expression>
                <time-zone>America/New_York</time-zone>
            </cron>
        </trigger>

    </job>
    <job>
        <!-- check undone task -->
        <job-detail>
            <name>jobTaskCheck</name>
            <group>groupTaskCheck</group>
            <job-class>com.eggtheory.brainfuse.server.servercomponent.PayrollJob</job-class>
            <volatility>false</volatility>
            <durability>false</durability>
            <recover>true</recover>
        </job-detail>

        <trigger>
            <cron>
                <name>triggTaskCheck</name>
                <group>triggGroupTaskCheck</group>
                <job-name>jobTaskCheck</job-name>
                <job-group>groupTaskCheck</job-group>
                <!--<start-time>2004-08-18 12:00:00 am</start-time>
                <end-time>3000-08-24 12:00:00 am</end-time>-->
                <cron-expression>0 0 23 ? * WED/2,FRI/2,SAT/2,SUN/2</cron-expression>
                <time-zone>America/New_York</time-zone>
            </cron>
        </trigger>
    </job>
    <job>
        <!-- submit/update previous tutor time sheet -->
        <job-detail>
            <name>scheduleMatcher</name>
            <group>dailyMaintenance</group>
            <job-class>com.eggtheory.brainfuse.server.servercomponent.SchedMatchJob</job-class>
            <volatility>false</volatility>
            <durability>false</durability>
            <recover>true</recover>
            <job-data-map>
                <entry>
                  <key>previous</key>
                  <value>true</value>
                </entry>
            </job-data-map>
        </job-detail>

        <trigger>
            <cron>
                <name>trigSchedMatch</name>
                <group>triggDailyMaintenance</group>
                <job-name>scheduleMatcher</job-name>
                <job-group>dailyMaintenance</job-group>
                <cron-expression>0 0/5 * * * ?</cron-expression>
                <time-zone>America/New_York</time-zone>
            </cron>
        </trigger>

    </job>

    

</quartz>
</Package>